<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/Src/Core/RestaurantManagment.Domain/Models/Common/TopSellingItemDto.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Src/Core/RestaurantManagment.Domain/Models/Common/TopSellingItemDto.cs" />
              <option name="updatedContent" value="namespace RestaurantManagment.Domain.Models.Common;&#10;&#10;public class TopSellingItemDto&#10;{&#10;    public string MenuItemId { get; set; } = string.Empty;&#10;    public string MenuItemName { get; set; } = string.Empty;&#10;    public int QuantitySold { get; set; }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Src/Infrastructure/RestaurantManagment.Persistance/Configurations/JobPostingConfiguration.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Src/Infrastructure/RestaurantManagment.Persistance/Configurations/JobPostingConfiguration.cs" />
              <option name="updatedContent" value="using Microsoft.EntityFrameworkCore;&#10;using Microsoft.EntityFrameworkCore.Metadata.Builders;&#10;using RestaurantManagment.Domain.Models;&#10;&#10;namespace RestaurantManagment.Persistance.Configurations;&#10;&#10;public class JobPostingConfiguration : IEntityTypeConfiguration&lt;JobPosting&gt;&#10;{&#10;    public void Configure(EntityTypeBuilder&lt;JobPosting&gt; builder)&#10;    {&#10;        builder.HasKey(j =&gt; j.Id);&#10;&#10;        builder.Property(j =&gt; j.Title)&#10;            .IsRequired()&#10;            .HasMaxLength(200);&#10;&#10;        builder.Property(j =&gt; j.Description)&#10;            .IsRequired()&#10;            .HasMaxLength(2000);&#10;&#10;        builder.Property(j =&gt; j.Requirements)&#10;            .IsRequired()&#10;            .HasMaxLength(1000);&#10;&#10;        builder.Property(j =&gt; j.Position)&#10;            .IsRequired()&#10;            .HasMaxLength(100);&#10;&#10;        builder.Property(j =&gt; j.EmploymentType)&#10;            .IsRequired()&#10;            .HasMaxLength(50);&#10;&#10;        // Relationships&#10;        builder.HasOne(j =&gt; j.Restaurant)&#10;            .WithMany(r =&gt; r.JobPostings)&#10;            .HasForeignKey(j =&gt; j.RestaurantId)&#10;            .OnDelete(DeleteBehavior.Cascade);&#10;&#10;        // Indexes&#10;        builder.HasIndex(j =&gt; j.RestaurantId);&#10;        builder.HasIndex(j =&gt; j.IsActive);&#10;&#10;        // Soft Delete Query Filter&#10;        builder.HasQueryFilter(j =&gt; !j.IsDeleted);&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Src/Presentation/RestaurantManagment.WebAPI/Controllers/FileController.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Src/Presentation/RestaurantManagment.WebAPI/Controllers/FileController.cs" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="using Microsoft.AspNetCore.Authorization;&#10;using Microsoft.AspNetCore.Mvc;&#10;using RestaurantManagment.Application.Common.Interfaces;&#10;&#10;namespace RestaurantManagment.WebAPI.Controllers;&#10;&#10;[ApiController]&#10;[Route(&quot;api/[controller]&quot;)]&#10;public class FileController : ControllerBase&#10;{&#10;    private readonly IFileService _fileService;&#10;&#10;    public FileController(IFileService fileService)&#10;    {&#10;        _fileService = fileService;&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Upload profile image for user&#10;    /// &lt;/summary&gt;&#10;    [HttpPost(&quot;upload/profile/{userId}&quot;)]&#10;    [Authorize]&#10;    public async Task&lt;IActionResult&gt; UploadProfileImage(string userId, IFormFile file)&#10;    {&#10;        try&#10;        {&#10;            if (file == null || file.Length == 0)&#10;                return BadRequest(new { message = &quot;Dosya yüklenemedi.&quot; });&#10;&#10;            var fileUrl = await _fileService.UploadProfileImageAsync(file, userId);&#10;            return Ok(new { imageUrl = fileUrl, message = &quot;Profil resmi başarıyla yüklendi.&quot; });&#10;        }&#10;        catch (ArgumentException ex)&#10;        {&#10;            return BadRequest(new { message = ex.Message });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Dosya yüklenirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Upload menu item image&#10;    /// &lt;/summary&gt;&#10;    [HttpPost(&quot;upload/menuitem/{menuItemId}&quot;)]&#10;    [Authorize(Roles = &quot;Owner,Admin&quot;)]&#10;    public async Task&lt;IActionResult&gt; UploadMenuItemImage(string menuItemId, IFormFile file)&#10;    {&#10;        try&#10;        {&#10;            if (file == null || file.Length == 0)&#10;                return BadRequest(new { message = &quot;Dosya yüklenemedi.&quot; });&#10;&#10;            var fileUrl = await _fileService.UploadMenuItemImageAsync(file, menuItemId);&#10;            return Ok(new { imageUrl = fileUrl, message = &quot;Menü öğesi resmi başarıyla yüklendi.&quot; });&#10;        }&#10;        catch (ArgumentException ex)&#10;        {&#10;            return BadRequest(new { message = ex.Message });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Dosya yüklenirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Upload reward image&#10;    /// &lt;/summary&gt;&#10;    [HttpPost(&quot;upload/reward/{rewardId}&quot;)]&#10;    [Authorize(Roles = &quot;Owner,Admin&quot;)]&#10;    public async Task&lt;IActionResult&gt; UploadRewardImage(string rewardId, IFormFile file)&#10;    {&#10;        try&#10;        {&#10;            if (file == null || file.Length == 0)&#10;                return BadRequest(new { message = &quot;Dosya yüklenemedi.&quot; });&#10;&#10;            var fileUrl = await _fileService.UploadRewardImageAsync(file, rewardId);&#10;            return Ok(new { imageUrl = fileUrl, message = &quot;Ödül resmi başarıyla yüklendi.&quot; });&#10;        }&#10;        catch (ArgumentException ex)&#10;        {&#10;            return BadRequest(new { message = ex.Message });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Dosya yüklenirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Upload restaurant image&#10;    /// &lt;/summary&gt;&#10;    [HttpPost(&quot;upload/restaurant/{restaurantId}&quot;)]&#10;    [Authorize(Roles = &quot;Owner,Admin&quot;)]&#10;    public async Task&lt;IActionResult&gt; UploadRestaurantImage(string restaurantId, IFormFile file)&#10;    {&#10;        try&#10;        {&#10;            if (file == null || file.Length == 0)&#10;                return BadRequest(new { message = &quot;Dosya yüklenemedi.&quot; });&#10;&#10;            var fileUrl = await _fileService.UploadRestaurantImageAsync(file, restaurantId);&#10;            return Ok(new { imageUrl = fileUrl, message = &quot;Restoran resmi başarıyla yüklendi.&quot; });&#10;        }&#10;        catch (ArgumentException ex)&#10;        {&#10;            return BadRequest(new { message = ex.Message });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Dosya yüklenirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Delete a file&#10;    /// &lt;/summary&gt;&#10;    [HttpDelete(&quot;delete&quot;)]&#10;    [Authorize]&#10;    public async Task&lt;IActionResult&gt; DeleteFile([FromQuery] string fileUrl)&#10;    {&#10;        try&#10;        {&#10;            var result = await _fileService.DeleteFileAsync(fileUrl);&#10;            if (result)&#10;                return Ok(new { message = &quot;Dosya başarıyla silindi.&quot; });&#10;            &#10;            return NotFound(new { message = &quot;Dosya bulunamadı.&quot; });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Dosya silinirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Check if file exists&#10;    /// &lt;/summary&gt;&#10;    [HttpGet(&quot;exists&quot;)]&#10;    public async Task&lt;IActionResult&gt; FileExists([FromQuery] string fileUrl)&#10;    {&#10;        try&#10;        {&#10;            var exists = await _fileService.FileExistsAsync(fileUrl);&#10;            return Ok(new { exists });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Dosya kontrol edilirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Src/Presentation/RestaurantManagment.WebAPI/Controllers/MenuItemImageController.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Src/Presentation/RestaurantManagment.WebAPI/Controllers/MenuItemImageController.cs" />
              <option name="updatedContent" value="using Microsoft.AspNetCore.Authorization;&#10;using Microsoft.AspNetCore.Mvc;&#10;using RestaurantManagment.Application.Common.Interfaces;&#10;&#10;namespace RestaurantManagment.WebAPI.Controllers;&#10;&#10;[ApiController]&#10;[Route(&quot;api/[controller]&quot;)]&#10;[Authorize(Roles = &quot;Owner,Admin&quot;)]&#10;public class MenuItemImageController : ControllerBase&#10;{&#10;    private readonly IFileService _fileService;&#10;&#10;    public MenuItemImageController(IFileService fileService)&#10;    {&#10;        _fileService = fileService;&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Upload menu item image (Required when creating menu item)&#10;    /// &lt;/summary&gt;&#10;    [HttpPost(&quot;{menuItemId}&quot;)]&#10;    public async Task&lt;IActionResult&gt; UploadMenuItemImage(string menuItemId, [FromForm] IFormFile file)&#10;    {&#10;        try&#10;        {&#10;            if (file == null || file.Length == 0)&#10;                return BadRequest(new { message = &quot;Menü öğesi resmi zorunludur.&quot; });&#10;&#10;            var fileUrl = await _fileService.UploadMenuItemImageAsync(file, menuItemId);&#10;            return Ok(new { imageUrl = fileUrl, message = &quot;Menü öğesi resmi başarıyla yüklendi.&quot; });&#10;        }&#10;        catch (ArgumentException ex)&#10;        {&#10;            return BadRequest(new { message = ex.Message });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Menü öğesi resmi yüklenirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Update menu item image&#10;    /// &lt;/summary&gt;&#10;    [HttpPut(&quot;{menuItemId}&quot;)]&#10;    public async Task&lt;IActionResult&gt; UpdateMenuItemImage(string menuItemId, [FromForm] IFormFile file)&#10;    {&#10;        try&#10;        {&#10;            if (file == null || file.Length == 0)&#10;                return BadRequest(new { message = &quot;Menü öğesi resmi zorunludur.&quot; });&#10;&#10;            var fileUrl = await _fileService.UploadMenuItemImageAsync(file, menuItemId);&#10;            return Ok(new { imageUrl = fileUrl, message = &quot;Menü öğesi resmi başarıyla güncellendi.&quot; });&#10;        }&#10;        catch (ArgumentException ex)&#10;        {&#10;            return BadRequest(new { message = ex.Message });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Menü öğesi resmi güncellenirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Delete menu item image&#10;    /// &lt;/summary&gt;&#10;    [HttpDelete]&#10;    public async Task&lt;IActionResult&gt; DeleteMenuItemImage([FromQuery] string fileUrl)&#10;    {&#10;        try&#10;        {&#10;            var result = await _fileService.DeleteFileAsync(fileUrl);&#10;            if (result)&#10;                return Ok(new { message = &quot;Menü öğesi resmi başarıyla silindi.&quot; });&#10;            &#10;            return NotFound(new { message = &quot;Menü öğesi resmi bulunamadı.&quot; });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Menü öğesi resmi silinirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Src/Presentation/RestaurantManagment.WebAPI/Controllers/ProfileImageController.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Src/Presentation/RestaurantManagment.WebAPI/Controllers/ProfileImageController.cs" />
              <option name="updatedContent" value="using Microsoft.AspNetCore.Authorization;&#10;using Microsoft.AspNetCore.Mvc;&#10;using RestaurantManagment.Application.Common.Interfaces;&#10;&#10;namespace RestaurantManagment.WebAPI.Controllers;&#10;&#10;[ApiController]&#10;[Route(&quot;api/[controller]&quot;)]&#10;[Authorize]&#10;public class ProfileImageController : ControllerBase&#10;{&#10;    private readonly IFileService _fileService;&#10;&#10;    public ProfileImageController(IFileService fileService)&#10;    {&#10;        _fileService = fileService;&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Upload profile image (Optional for customer)&#10;    /// &lt;/summary&gt;&#10;    [HttpPost(&quot;{userId}&quot;)]&#10;    public async Task&lt;IActionResult&gt; UploadProfileImage(string userId, [FromForm] IFormFile file)&#10;    {&#10;        try&#10;        {&#10;            if (file == null || file.Length == 0)&#10;                return BadRequest(new { message = &quot;Profil resmi seçilmedi.&quot; });&#10;&#10;            var fileUrl = await _fileService.UploadProfileImageAsync(file, userId);&#10;            return Ok(new { imageUrl = fileUrl, message = &quot;Profil resmi başarıyla yüklendi.&quot; });&#10;        }&#10;        catch (ArgumentException ex)&#10;        {&#10;            return BadRequest(new { message = ex.Message });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Profil resmi yüklenirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Update profile image&#10;    /// &lt;/summary&gt;&#10;    [HttpPut(&quot;{userId}&quot;)]&#10;    public async Task&lt;IActionResult&gt; UpdateProfileImage(string userId, [FromForm] IFormFile file)&#10;    {&#10;        try&#10;        {&#10;            if (file == null || file.Length == 0)&#10;                return BadRequest(new { message = &quot;Profil resmi seçilmedi.&quot; });&#10;&#10;            var fileUrl = await _fileService.UploadProfileImageAsync(file, userId);&#10;            return Ok(new { imageUrl = fileUrl, message = &quot;Profil resmi başarıyla güncellendi.&quot; });&#10;        }&#10;        catch (ArgumentException ex)&#10;        {&#10;            return BadRequest(new { message = ex.Message });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Profil resmi güncellenirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Delete profile image&#10;    /// &lt;/summary&gt;&#10;    [HttpDelete]&#10;    public async Task&lt;IActionResult&gt; DeleteProfileImage([FromQuery] string fileUrl)&#10;    {&#10;        try&#10;        {&#10;            var result = await _fileService.DeleteFileAsync(fileUrl);&#10;            if (result)&#10;                return Ok(new { message = &quot;Profil resmi başarıyla silindi.&quot; });&#10;            &#10;            return NotFound(new { message = &quot;Profil resmi bulunamadı.&quot; });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Profil resmi silinirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Src/Presentation/RestaurantManagment.WebAPI/Controllers/RestaurantImageController.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Src/Presentation/RestaurantManagment.WebAPI/Controllers/RestaurantImageController.cs" />
              <option name="updatedContent" value="using Microsoft.AspNetCore.Authorization;&#10;using Microsoft.AspNetCore.Mvc;&#10;using RestaurantManagment.Application.Common.Interfaces;&#10;&#10;namespace RestaurantManagment.WebAPI.Controllers;&#10;&#10;[ApiController]&#10;[Route(&quot;api/[controller]&quot;)]&#10;[Authorize(Roles = &quot;Owner,Admin&quot;)]&#10;public class RestaurantImageController : ControllerBase&#10;{&#10;    private readonly IFileService _fileService;&#10;&#10;    public RestaurantImageController(IFileService fileService)&#10;    {&#10;        _fileService = fileService;&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Upload restaurant image (Required when creating restaurant)&#10;    /// &lt;/summary&gt;&#10;    [HttpPost(&quot;{restaurantId}&quot;)]&#10;    public async Task&lt;IActionResult&gt; UploadRestaurantImage(string restaurantId, [FromForm] IFormFile file)&#10;    {&#10;        try&#10;        {&#10;            if (file == null || file.Length == 0)&#10;                return BadRequest(new { message = &quot;Restoran resmi zorunludur.&quot; });&#10;&#10;            var fileUrl = await _fileService.UploadRestaurantImageAsync(file, restaurantId);&#10;            return Ok(new { imageUrl = fileUrl, message = &quot;Restoran resmi başarıyla yüklendi.&quot; });&#10;        }&#10;        catch (ArgumentException ex)&#10;        {&#10;            return BadRequest(new { message = ex.Message });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Restoran resmi yüklenirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Update restaurant image&#10;    /// &lt;/summary&gt;&#10;    [HttpPut(&quot;{restaurantId}&quot;)]&#10;    public async Task&lt;IActionResult&gt; UpdateRestaurantImage(string restaurantId, [FromForm] IFormFile file)&#10;    {&#10;        try&#10;        {&#10;            if (file == null || file.Length == 0)&#10;                return BadRequest(new { message = &quot;Restoran resmi zorunludur.&quot; });&#10;&#10;            var fileUrl = await _fileService.UploadRestaurantImageAsync(file, restaurantId);&#10;            return Ok(new { imageUrl = fileUrl, message = &quot;Restoran resmi başarıyla güncellendi.&quot; });&#10;        }&#10;        catch (ArgumentException ex)&#10;        {&#10;            return BadRequest(new { message = ex.Message });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Restoran resmi güncellenirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Delete restaurant image&#10;    /// &lt;/summary&gt;&#10;    [HttpDelete]&#10;    public async Task&lt;IActionResult&gt; DeleteRestaurantImage([FromQuery] string fileUrl)&#10;    {&#10;        try&#10;        {&#10;            var result = await _fileService.DeleteFileAsync(fileUrl);&#10;            if (result)&#10;                return Ok(new { message = &quot;Restoran resmi başarıyla silindi.&quot; });&#10;            &#10;            return NotFound(new { message = &quot;Restoran resmi bulunamadı.&quot; });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Restoran resmi silinirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Src/Presentation/RestaurantManagment.WebAPI/Controllers/RewardImageController.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Src/Presentation/RestaurantManagment.WebAPI/Controllers/RewardImageController.cs" />
              <option name="updatedContent" value="using Microsoft.AspNetCore.Authorization;&#10;using Microsoft.AspNetCore.Mvc;&#10;using RestaurantManagment.Application.Common.Interfaces;&#10;&#10;namespace RestaurantManagment.WebAPI.Controllers;&#10;&#10;[ApiController]&#10;[Route(&quot;api/[controller]&quot;)]&#10;[Authorize(Roles = &quot;Owner,Admin&quot;)]&#10;public class RewardImageController : ControllerBase&#10;{&#10;    private readonly IFileService _fileService;&#10;&#10;    public RewardImageController(IFileService fileService)&#10;    {&#10;        _fileService = fileService;&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Upload reward image (Required when creating reward)&#10;    /// &lt;/summary&gt;&#10;    [HttpPost(&quot;{rewardId}&quot;)]&#10;    public async Task&lt;IActionResult&gt; UploadRewardImage(string rewardId, [FromForm] IFormFile file)&#10;    {&#10;        try&#10;        {&#10;            if (file == null || file.Length == 0)&#10;                return BadRequest(new { message = &quot;Ödül resmi zorunludur.&quot; });&#10;&#10;            var fileUrl = await _fileService.UploadRewardImageAsync(file, rewardId);&#10;            return Ok(new { imageUrl = fileUrl, message = &quot;Ödül resmi başarıyla yüklendi.&quot; });&#10;        }&#10;        catch (ArgumentException ex)&#10;        {&#10;            return BadRequest(new { message = ex.Message });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Ödül resmi yüklenirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Update reward image&#10;    /// &lt;/summary&gt;&#10;    [HttpPut(&quot;{rewardId}&quot;)]&#10;    public async Task&lt;IActionResult&gt; UpdateRewardImage(string rewardId, [FromForm] IFormFile file)&#10;    {&#10;        try&#10;        {&#10;            if (file == null || file.Length == 0)&#10;                return BadRequest(new { message = &quot;Ödül resmi zorunludur.&quot; });&#10;&#10;            var fileUrl = await _fileService.UploadRewardImageAsync(file, rewardId);&#10;            return Ok(new { imageUrl = fileUrl, message = &quot;Ödül resmi başarıyla güncellendi.&quot; });&#10;        }&#10;        catch (ArgumentException ex)&#10;        {&#10;            return BadRequest(new { message = ex.Message });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Ödül resmi güncellenirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;&#10;    /// &lt;summary&gt;&#10;    /// Delete reward image&#10;    /// &lt;/summary&gt;&#10;    [HttpDelete]&#10;    public async Task&lt;IActionResult&gt; DeleteRewardImage([FromQuery] string fileUrl)&#10;    {&#10;        try&#10;        {&#10;            var result = await _fileService.DeleteFileAsync(fileUrl);&#10;            if (result)&#10;                return Ok(new { message = &quot;Ödül resmi başarıyla silindi.&quot; });&#10;            &#10;            return NotFound(new { message = &quot;Ödül resmi bulunamadı.&quot; });&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            return StatusCode(500, new { message = &quot;Ödül resmi silinirken bir hata oluştu.&quot;, error = ex.Message });&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Src/Presentation/RestaurantManagment.WebAPI/OwnerIdFixer.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Src/Presentation/RestaurantManagment.WebAPI/OwnerIdFixer.cs" />
              <option name="updatedContent" value="using Microsoft.EntityFrameworkCore;&#10;using Microsoft.AspNetCore.Identity;&#10;using RestaurantManagment.Domain.Models;&#10;using RestaurantManagment.Persistance.Data;&#10;&#10;namespace RestaurantManagment.WebAPI;&#10;&#10;public static class OwnerIdFixer&#10;{&#10;    public static async Task FixRestaurantOwnerIds(IServiceProvider services)&#10;    {&#10;        using var scope = services.CreateScope();&#10;        var context = scope.ServiceProvider.GetRequiredService&lt;AppDbContext&gt;();&#10;        var userManager = scope.ServiceProvider.GetRequiredService&lt;UserManager&lt;AppUser&gt;&gt;();&#10;        var logger = scope.ServiceProvider.GetRequiredService&lt;ILogger&lt;Program&gt;&gt;();&#10;        &#10;        try&#10;        {&#10;            // Owner kullanıcısını bul&#10;            var owner = await userManager.FindByEmailAsync(&quot;owner@gmail.com&quot;);&#10;            if (owner == null)&#10;            {&#10;                logger.LogWarning(&quot;owner@gmail.com kullanıcısı bulunamadı!&quot;);&#10;                return;&#10;            }&#10;            &#10;            logger.LogInformation($&quot;Owner bulundu: {owner.Email} (ID: {owner.Id})&quot;);&#10;            &#10;            // Tüm aktif restoranları bul&#10;            var restaurants = await context.Restaurants&#10;                .Where(r =&gt; !r.IsDeleted)&#10;                .ToListAsync();&#10;            &#10;            if (restaurants.Count == 0)&#10;            {&#10;                logger.LogInformation(&quot;Veritabanında restoran bulunamadı.&quot;);&#10;                return;&#10;            }&#10;            &#10;            logger.LogInformation($&quot;{restaurants.Count} restoran bulundu, owner ID'leri güncelleniyor...&quot;);&#10;            &#10;            // Her restoranın owner ID'sini güncelle&#10;            foreach (var restaurant in restaurants)&#10;            {&#10;                restaurant.OwnerId = owner.Id;&#10;                logger.LogInformation($&quot;✓ {restaurant.Name} -&gt; Owner ID güncellendi&quot;);&#10;            }&#10;            &#10;            await context.SaveChangesAsync();&#10;            logger.LogInformation($&quot;✅ {restaurants.Count} restoranın owner ID'si başarıyla güncellendi!&quot;);&#10;        }&#10;        catch (Exception ex)&#10;        {&#10;            logger.LogError(ex, &quot;Owner ID güncellenirken hata oluştu!&quot;);&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>